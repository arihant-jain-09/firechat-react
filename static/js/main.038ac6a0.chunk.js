(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{72:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(21),c=a.n(n),i=a(19),s=a(90),o=a(95),d=a(96),u=a(97),l=a(36),p=a(98),h=a(94),j=a(30);a(73),a(59);j.a.initializeApp({apiKey:"AIzaSyBWZC9xWMKEQMuGPyncAFlaVGnHlNwnEDY",authDomain:"superchat-33ed4.firebaseapp.com",projectId:"superchat-33ed4",storageBucket:"superchat-33ed4.appspot.com",messagingSenderId:"305060583764",appId:"1:305060583764:web:f11e117b65ec65e718d0c1",measurementId:"G-45GES8K7BV"});var g=j.a.firestore(),b=j.a.auth(),m=j.a,x=a(6),v=Object(s.a)((function(e){return{maindiv:{backgroundColor:"#282c34"},div:{backgroundColor:"#282c34",width:"100%",height:"500px"},button:{position:"relative",top:"100px",left:"325px",backgroundColor:"#0d47a1",color:"white",padding:"20px 30px","&:hover":{backgroundColor:"#1976d2"}}}}));var f=function(){var e=v();return Object(x.jsxs)("div",{className:e.maindiv,children:[Object(x.jsx)(p.a,{className:e.button,onClick:function(){var e=new m.auth.GoogleAuthProvider;b.signInWithPopup(e)},children:"Sign In with Google"}),Object(x.jsx)("div",{className:e.div})]})},O=a(40),y=a.n(O),w=a(45),C=a(46),k=a(92),N=a(93),R=a(100),I=Object(s.a)((function(e){return{card:{height:e.spacing(5),borderRadius:e.spacing(0)},cardHeader:{height:e.spacing(1.1),position:"relative",left:function(e){if("sent"===e.messageClass)return"350px"},width:function(e){if("received"===e.messageClass)return"50%"}},avatar:{width:e.spacing(3),height:e.spacing(3)},cardheadtypo:{color:e.palette.secondary.contrastText,borderRadius:e.spacing(2),padding:e.spacing(1),paddingLeft:e.spacing(2.2),backgroundColor:function(t){return"sent"===t.messageClass?e.palette.secondary.light:e.palette.primary.light}},avatardefault:{marginRight:e.spacing(.5)}}}));var L=function(e){var t,a=I(e);return Object(x.jsx)("div",{children:Object(x.jsx)(k.a,{className:a.card,children:Object(x.jsx)(N.a,{classes:{avatar:a.avatardefault},className:a.cardHeader,avatar:Object(x.jsx)(R.a,{className:a.avatar,src:e.photoURL}),title:Object(x.jsx)(l.a,{className:a.cardheadtypo,children:(t=e.text,console.log(t),t.length<61?t:"Msg should be less than 60 characters")})})})})},S=a(50);var G=function(e){var t=e.message,a=t.text,r=t.uid,n=t.photoURL,c=r===b.currentUser.uid?"sent":"received";return Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{item:!0,lg:12,alignContent:"center",children:Object(x.jsx)(S.a,{square:!0,children:Object(x.jsx)(L,{photoURL:n,text:a,messageClass:c})})})})},U=a(99),A=a(47),B=a.n(A),F=Object(s.a)((function(e){return{text:{marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:"5px",width:"92%"}}}));var E=function(){var e=F(),t=Object(r.useRef)(),a=g.collection("messages"),n=a.orderBy("createdAt").limit(25),c=Object(C.a)(n,{idField:"id"}),s=Object(i.a)(c,1)[0],o=Object(r.useState)(""),d=Object(i.a)(o,2),u=d[0],l=d[1],h=function(){var e=Object(w.a)(y.a.mark((function e(r){var n,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=b.currentUser,c=n.uid,i=n.photoURL,e.next=4,a.add({text:u,createdAt:m.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:i});case 4:l(""),t.current.scrollIntoView({behaviour:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("main",{className:e.main,children:[s&&s.map((function(e){return Object(x.jsx)(G,{id:e.id,message:e},e.id)})),Object(x.jsx)("div",{ref:t})]}),Object(x.jsxs)("form",{onSubmit:h,children:[Object(x.jsx)(U.a,{autoFocus:!0,fullWidth:!0,classes:{fullWidth:e.text},required:!0,placeholder:"Enter your message",onChange:function(e){return l(e.target.value)},value:u}),Object(x.jsx)(p.a,{size:"large",type:"submit",children:Object(x.jsx)(B.a,{style:{fontSize:32}})})]})]})},W=a(48),z=Object(s.a)((function(e){return{appbar:{width:"70%",marginLeft:"auto",marginRight:"auto"},grid:{display:"block",width:"70%",marginLeft:"auto",marginRight:"auto"},typography:{flexGrow:1,letterSpacing:"2px"}}}));var V=function(){var e=z(),t=Object(W.a)(b),a=Object(i.a)(t,1)[0];return Object(x.jsx)("div",{children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(d.a,{className:e.appbar,position:"static",children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(l.a,{variant:"h6",className:e.typography,children:"FireChat"}),a?Object(x.jsx)(p.a,{color:"inherit",onClick:function(){b.signOut()},children:"Logout"}):null]})}),Object(x.jsx)(h.a,{container:!0,className:e.grid,children:a?Object(x.jsx)(E,{}):Object(x.jsx)(f,{})})]})})};c.a.render(Object(x.jsx)(V,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.038ac6a0.chunk.js.map